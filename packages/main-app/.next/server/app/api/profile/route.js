"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/profile/route";
exports.ids = ["app/api/profile/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "prettier/plugins/html":
/*!****************************************!*\
  !*** external "prettier/plugins/html" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("prettier/plugins/html");

/***/ }),

/***/ "prettier/standalone":
/*!**************************************!*\
  !*** external "prettier/standalone" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("prettier/standalone");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.ts&appDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.ts&appDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_openi_OneDrive_BellRegistry_packages_main_app_src_app_api_profile_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/profile/route.ts */ \"(rsc)/./src/app/api/profile/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/profile/route\",\n        pathname: \"/api/profile\",\n        filename: \"route\",\n        bundlePath: \"app/api/profile/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\openi\\\\OneDrive\\\\BellRegistry\\\\packages\\\\main-app\\\\src\\\\app\\\\api\\\\profile\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_openi_OneDrive_BellRegistry_packages_main_app_src_app_api_profile_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/profile/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGcHJvZmlsZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZmlsZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnByb2ZpbGUlMkZyb3V0ZS50cyZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDb3BlbmklNUNPbmVEcml2ZSU1Q0JlbGxSZWdpc3RyeSU1Q3BhY2thZ2VzJTVDbWFpbi1hcHAlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q29wZW5pJTVDT25lRHJpdmUlNUNCZWxsUmVnaXN0cnklNUNwYWNrYWdlcyU1Q21haW4tYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QztBQUMzSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL0BiZWxsLXJlZ2lzdHJ5L21haW4tYXBwLz84ODA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG9wZW5pXFxcXE9uZURyaXZlXFxcXEJlbGxSZWdpc3RyeVxcXFxwYWNrYWdlc1xcXFxtYWluLWFwcFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwcm9maWxlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZmlsZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2ZpbGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2ZpbGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxvcGVuaVxcXFxPbmVEcml2ZVxcXFxCZWxsUmVnaXN0cnlcXFxccGFja2FnZXNcXFxcbWFpbi1hcHBcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvZmlsZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9maWxlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.ts&appDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/profile/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/profile/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/../../node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/../../node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n\n\n\n\n\n// Use static rendering by default, only opt into dynamic when needed\nconst dynamic = \"force-dynamic\";\nconst revalidate = 30; // Revalidate every 30 seconds\nasync function GET() {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"Unauthorized\", {\n                status: 401\n            });\n        }\n        if (session.user.role === \"EMPLOYER\" || session.user.role === \"AGENCY\") {\n            const profile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.employerProfile.findUnique({\n                where: {\n                    userId: session.user.id\n                }\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                employerProfile: profile\n            });\n        } else {\n            const profile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.candidateProfile.findUnique({\n                where: {\n                    userId: session.user.id\n                },\n                include: {\n                    user: true\n                }\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(profile);\n        }\n    } catch (error) {\n        console.error(\"[PROFILE_GET]\", error);\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"Internal Error\", {\n            status: 500\n        });\n    }\n}\nasync function PUT(req) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"Unauthorized\", {\n                status: 401\n            });\n        }\n        const body = await req.json();\n        if (session.user.role === \"EMPLOYER\" || session.user.role === \"AGENCY\") {\n            // Update employer profile\n            const updatedProfile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.employerProfile.update({\n                where: {\n                    userId: session.user.id\n                },\n                data: {\n                    companyName: body.companyName,\n                    description: body.description,\n                    website: body.website,\n                    logoUrl: body.logoUrl,\n                    location: body.location\n                }\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(updatedProfile);\n        } else {\n            // Update both user and candidate profile in a transaction\n            const result = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.$transaction(async (tx)=>{\n                // Check if names are being updated and regenerate slug if needed\n                let profileSlug;\n                if (body.firstName && body.lastName) {\n                    const currentUser = await tx.user.findUnique({\n                        where: {\n                            id: session.user.id\n                        },\n                        select: {\n                            firstName: true,\n                            lastName: true,\n                            profileSlug: true\n                        }\n                    });\n                    // Only regenerate slug if names are different\n                    if (currentUser && (currentUser.firstName !== body.firstName || currentUser.lastName !== body.lastName)) {\n                        profileSlug = await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.generateProfileSlug)(body.firstName, body.lastName);\n                    }\n                }\n                // Update user fields\n                const updatedUser = await tx.user.update({\n                    where: {\n                        id: session.user.id\n                    },\n                    data: {\n                        firstName: body.firstName,\n                        lastName: body.lastName,\n                        phoneNumber: body.phoneNumber,\n                        isAnonymous: body.isAnonymous,\n                        customInitials: body.customInitials || null,\n                        dontContactMe: body.dontContactMe,\n                        ...body.photoUrl && {\n                            image: body.photoUrl\n                        },\n                        ...profileSlug && {\n                            profileSlug\n                        }\n                    }\n                });\n                // Update candidate profile\n                const updatedProfile = await tx.candidateProfile.update({\n                    where: {\n                        userId: session.user.id\n                    },\n                    data: {\n                        bio: body.bio,\n                        skills: Array.isArray(body.skills) ? body.skills : body.skills ? body.skills.split(\",\").map((s)=>s.trim()) : undefined,\n                        experience: body.experience,\n                        certifications: body.certifications ? body.certifications.split(\",\").map((c)=>c.trim()) : undefined,\n                        availability: body.availability ? new Date(body.availability) : undefined,\n                        resumeUrl: body.resumeUrl,\n                        photoUrl: body.photoUrl,\n                        location: body.location,\n                        title: body.preferredRole,\n                        additionalPhotos: body.additionalPhotos,\n                        currentLocation: body.location,\n                        headshot: body.photoUrl,\n                        idealEnvironment: body.idealEnvironment,\n                        mediaUrls: body.mediaUrls,\n                        openToRelocation: body.openToRelocation,\n                        payType: body.payType,\n                        payRangeMax: body.payRangeMax ? parseFloat(body.payRangeMax) : undefined,\n                        payRangeMin: body.payRangeMin ? parseFloat(body.payRangeMin) : undefined,\n                        preferredRole: body.preferredRole,\n                        seekingOpportunities: body.seekingOpportunities,\n                        whatImSeeking: body.whatImSeeking,\n                        whatSetsApartMe: body.whatSetsApartMe,\n                        whyIEnjoyThisWork: body.whyIEnjoyThisWork,\n                        workLocations: body.workLocations,\n                        yearsOfExperience: body.yearsOfExperience ? parseInt(body.yearsOfExperience) : undefined,\n                        openToWork: body.openToWork,\n                        employmentType: body.employmentType\n                    },\n                    include: {\n                        user: true\n                    }\n                });\n                return updatedProfile;\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(result);\n        }\n    } catch (error) {\n        console.error(\"[PROFILE_PUT]\", error);\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"Internal Error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWTFELEtBQUswRCxVQUFVO3dCQUMzQkMsZ0JBQWdCM0QsS0FBSzJELGNBQWM7b0JBQ3JDO29CQUNBaEUsU0FBUzt3QkFDUFgsTUFBTTtvQkFDUjtnQkFDRjtnQkFFQSxPQUFPaUI7WUFDVDtZQUVBLE9BQU8xQixrRkFBWUEsQ0FBQ2tCLElBQUksQ0FBQ2dCO1FBQzNCO0lBQ0YsRUFBRSxPQUFPYixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQkFBaUJBO1FBQy9CLE9BQU8sSUFBSXJCLGtGQUFZQSxDQUFDLGtCQUFrQjtZQUFFVSxRQUFRO1FBQUk7SUFDMUQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BiZWxsLXJlZ2lzdHJ5L21haW4tYXBwLy4vc3JjL2FwcC9hcGkvcHJvZmlsZS9yb3V0ZS50cz9mYjZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vbGliL2F1dGhcIjtcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVByb2ZpbGVTbHVnIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XHJcblxyXG4vLyBVc2Ugc3RhdGljIHJlbmRlcmluZyBieSBkZWZhdWx0LCBvbmx5IG9wdCBpbnRvIGR5bmFtaWMgd2hlbiBuZWVkZWRcclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XHJcbmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMzA7IC8vIFJldmFsaWRhdGUgZXZlcnkgMzAgc2Vjb25kc1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG5cclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShcIlVuYXV0aG9yaXplZFwiLCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZXNzaW9uLnVzZXIucm9sZSA9PT0gXCJFTVBMT1lFUlwiIHx8IHNlc3Npb24udXNlci5yb2xlID09PSBcIkFHRU5DWVwiKSB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBwcmlzbWEuZW1wbG95ZXJQcm9maWxlLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlbXBsb3llclByb2ZpbGU6IHByb2ZpbGUgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgcHJpc21hLmNhbmRpZGF0ZVByb2ZpbGUuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQgfSxcclxuICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICB1c2VyOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHByb2ZpbGUpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW1BST0ZJTEVfR0VUXVwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShcIkludGVybmFsIEVycm9yXCIsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcTogUmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcblxyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiVW5hdXRob3JpemVkXCIsIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgaWYgKHNlc3Npb24udXNlci5yb2xlID09PSBcIkVNUExPWUVSXCIgfHwgc2Vzc2lvbi51c2VyLnJvbGUgPT09IFwiQUdFTkNZXCIpIHtcclxuICAgICAgLy8gVXBkYXRlIGVtcGxveWVyIHByb2ZpbGVcclxuICAgICAgY29uc3QgdXBkYXRlZFByb2ZpbGUgPSBhd2FpdCBwcmlzbWEuZW1wbG95ZXJQcm9maWxlLnVwZGF0ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQgfSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb21wYW55TmFtZTogYm9keS5jb21wYW55TmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBib2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgd2Vic2l0ZTogYm9keS53ZWJzaXRlLFxyXG4gICAgICAgICAgbG9nb1VybDogYm9keS5sb2dvVXJsLFxyXG4gICAgICAgICAgbG9jYXRpb246IGJvZHkubG9jYXRpb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odXBkYXRlZFByb2ZpbGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVXBkYXRlIGJvdGggdXNlciBhbmQgY2FuZGlkYXRlIHByb2ZpbGUgaW4gYSB0cmFuc2FjdGlvblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIG5hbWVzIGFyZSBiZWluZyB1cGRhdGVkIGFuZCByZWdlbmVyYXRlIHNsdWcgaWYgbmVlZGVkXHJcbiAgICAgICAgbGV0IHByb2ZpbGVTbHVnOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKGJvZHkuZmlyc3ROYW1lICYmIGJvZHkubGFzdE5hbWUpIHtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgdHgudXNlci5maW5kVW5pcXVlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHNlc3Npb24udXNlci5pZCB9LFxyXG4gICAgICAgICAgICBzZWxlY3Q6IHsgZmlyc3ROYW1lOiB0cnVlLCBsYXN0TmFtZTogdHJ1ZSwgcHJvZmlsZVNsdWc6IHRydWUgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE9ubHkgcmVnZW5lcmF0ZSBzbHVnIGlmIG5hbWVzIGFyZSBkaWZmZXJlbnRcclxuICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBcclxuICAgICAgICAgICAgICAoY3VycmVudFVzZXIuZmlyc3ROYW1lICE9PSBib2R5LmZpcnN0TmFtZSB8fCBjdXJyZW50VXNlci5sYXN0TmFtZSAhPT0gYm9keS5sYXN0TmFtZSkpIHtcclxuICAgICAgICAgICAgcHJvZmlsZVNsdWcgPSBhd2FpdCBnZW5lcmF0ZVByb2ZpbGVTbHVnKGJvZHkuZmlyc3ROYW1lLCBib2R5Lmxhc3ROYW1lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB1c2VyIGZpZWxkc1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdHgudXNlci51cGRhdGUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IHNlc3Npb24udXNlci5pZCB9LFxyXG4gICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGJvZHkuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICBsYXN0TmFtZTogYm9keS5sYXN0TmFtZSxcclxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGJvZHkucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICAgIGlzQW5vbnltb3VzOiBib2R5LmlzQW5vbnltb3VzLFxyXG4gICAgICAgICAgICBjdXN0b21Jbml0aWFsczogYm9keS5jdXN0b21Jbml0aWFscyB8fCBudWxsLFxyXG4gICAgICAgICAgICBkb250Q29udGFjdE1lOiBib2R5LmRvbnRDb250YWN0TWUsXHJcbiAgICAgICAgICAgIC4uLihib2R5LnBob3RvVXJsICYmIHsgaW1hZ2U6IGJvZHkucGhvdG9VcmwgfSksXHJcbiAgICAgICAgICAgIC4uLihwcm9maWxlU2x1ZyAmJiB7IHByb2ZpbGVTbHVnIH0pXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgY2FuZGlkYXRlIHByb2ZpbGVcclxuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZmlsZSA9IGF3YWl0IHR4LmNhbmRpZGF0ZVByb2ZpbGUudXBkYXRlKHtcclxuICAgICAgICAgIHdoZXJlOiB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGJpbzogYm9keS5iaW8sXHJcbiAgICAgICAgICAgIHNraWxsczogQXJyYXkuaXNBcnJheShib2R5LnNraWxscykgPyBib2R5LnNraWxscyA6IChib2R5LnNraWxscyA/IGJvZHkuc2tpbGxzLnNwbGl0KFwiLFwiKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpIDogdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgZXhwZXJpZW5jZTogYm9keS5leHBlcmllbmNlLFxyXG4gICAgICAgICAgICBjZXJ0aWZpY2F0aW9uczogYm9keS5jZXJ0aWZpY2F0aW9ucyA/IGJvZHkuY2VydGlmaWNhdGlvbnMuc3BsaXQoXCIsXCIpLm1hcCgoYzogc3RyaW5nKSA9PiBjLnRyaW0oKSkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGF2YWlsYWJpbGl0eTogYm9keS5hdmFpbGFiaWxpdHkgPyBuZXcgRGF0ZShib2R5LmF2YWlsYWJpbGl0eSkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHJlc3VtZVVybDogYm9keS5yZXN1bWVVcmwsXHJcbiAgICAgICAgICAgIHBob3RvVXJsOiBib2R5LnBob3RvVXJsLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogYm9keS5sb2NhdGlvbixcclxuICAgICAgICAgICAgdGl0bGU6IGJvZHkucHJlZmVycmVkUm9sZSxcclxuICAgICAgICAgICAgYWRkaXRpb25hbFBob3RvczogYm9keS5hZGRpdGlvbmFsUGhvdG9zLFxyXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb246IGJvZHkubG9jYXRpb24sXHJcbiAgICAgICAgICAgIGhlYWRzaG90OiBib2R5LnBob3RvVXJsLFxyXG4gICAgICAgICAgICBpZGVhbEVudmlyb25tZW50OiBib2R5LmlkZWFsRW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIG1lZGlhVXJsczogYm9keS5tZWRpYVVybHMsXHJcbiAgICAgICAgICAgIG9wZW5Ub1JlbG9jYXRpb246IGJvZHkub3BlblRvUmVsb2NhdGlvbixcclxuICAgICAgICAgICAgcGF5VHlwZTogYm9keS5wYXlUeXBlLFxyXG4gICAgICAgICAgICBwYXlSYW5nZU1heDogYm9keS5wYXlSYW5nZU1heCA/IHBhcnNlRmxvYXQoYm9keS5wYXlSYW5nZU1heCkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHBheVJhbmdlTWluOiBib2R5LnBheVJhbmdlTWluID8gcGFyc2VGbG9hdChib2R5LnBheVJhbmdlTWluKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgcHJlZmVycmVkUm9sZTogYm9keS5wcmVmZXJyZWRSb2xlLFxyXG4gICAgICAgICAgICBzZWVraW5nT3Bwb3J0dW5pdGllczogYm9keS5zZWVraW5nT3Bwb3J0dW5pdGllcyxcclxuICAgICAgICAgICAgd2hhdEltU2Vla2luZzogYm9keS53aGF0SW1TZWVraW5nLFxyXG4gICAgICAgICAgICB3aGF0U2V0c0FwYXJ0TWU6IGJvZHkud2hhdFNldHNBcGFydE1lLFxyXG4gICAgICAgICAgICB3aHlJRW5qb3lUaGlzV29yazogYm9keS53aHlJRW5qb3lUaGlzV29yayxcclxuICAgICAgICAgICAgd29ya0xvY2F0aW9uczogYm9keS53b3JrTG9jYXRpb25zLFxyXG4gICAgICAgICAgICB5ZWFyc09mRXhwZXJpZW5jZTogYm9keS55ZWFyc09mRXhwZXJpZW5jZSA/IHBhcnNlSW50KGJvZHkueWVhcnNPZkV4cGVyaWVuY2UpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBvcGVuVG9Xb3JrOiBib2R5Lm9wZW5Ub1dvcmssXHJcbiAgICAgICAgICAgIGVtcGxveW1lbnRUeXBlOiBib2R5LmVtcGxveW1lbnRUeXBlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICAgICAgdXNlcjogdHJ1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdXBkYXRlZFByb2ZpbGU7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbUFJPRklMRV9QVVRdXCIsIGVycm9yKTtcclxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiSW50ZXJuYWwgRXJyb3JcIiwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInByaXNtYSIsImdlbmVyYXRlUHJvZmlsZVNsdWciLCJkeW5hbWljIiwicmV2YWxpZGF0ZSIsIkdFVCIsInNlc3Npb24iLCJ1c2VyIiwic3RhdHVzIiwicm9sZSIsInByb2ZpbGUiLCJlbXBsb3llclByb2ZpbGUiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJ1c2VySWQiLCJpZCIsImpzb24iLCJjYW5kaWRhdGVQcm9maWxlIiwiaW5jbHVkZSIsImVycm9yIiwiY29uc29sZSIsIlBVVCIsInJlcSIsImJvZHkiLCJ1cGRhdGVkUHJvZmlsZSIsInVwZGF0ZSIsImRhdGEiLCJjb21wYW55TmFtZSIsImRlc2NyaXB0aW9uIiwid2Vic2l0ZSIsImxvZ29VcmwiLCJsb2NhdGlvbiIsInJlc3VsdCIsIiR0cmFuc2FjdGlvbiIsInR4IiwicHJvZmlsZVNsdWciLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImN1cnJlbnRVc2VyIiwic2VsZWN0IiwidXBkYXRlZFVzZXIiLCJwaG9uZU51bWJlciIsImlzQW5vbnltb3VzIiwiY3VzdG9tSW5pdGlhbHMiLCJkb250Q29udGFjdE1lIiwicGhvdG9VcmwiLCJpbWFnZSIsImJpbyIsInNraWxscyIsIkFycmF5IiwiaXNBcnJheSIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJ1bmRlZmluZWQiLCJleHBlcmllbmNlIiwiY2VydGlmaWNhdGlvbnMiLCJjIiwiYXZhaWxhYmlsaXR5IiwiRGF0ZSIsInJlc3VtZVVybCIsInRpdGxlIiwicHJlZmVycmVkUm9sZSIsImFkZGl0aW9uYWxQaG90b3MiLCJjdXJyZW50TG9jYXRpb24iLCJoZWFkc2hvdCIsImlkZWFsRW52aXJvbm1lbnQiLCJtZWRpYVVybHMiLCJvcGVuVG9SZWxvY2F0aW9uIiwicGF5VHlwZSIsInBheVJhbmdlTWF4IiwicGFyc2VGbG9hdCIsInBheVJhbmdlTWluIiwic2Vla2luZ09wcG9ydHVuaXRpZXMiLCJ3aGF0SW1TZWVraW5nIiwid2hhdFNldHNBcGFydE1lIiwid2h5SUVuam95VGhpc1dvcmsiLCJ3b3JrTG9jYXRpb25zIiwieWVhcnNPZkV4cGVyaWVuY2UiLCJwYXJzZUludCIsIm9wZW5Ub1dvcmsiLCJlbXBsb3ltZW50VHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/profile/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/../../node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/../../node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/../../node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n/* harmony import */ var _prisma_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./prisma-types */ \"(rsc)/./src/lib/prisma-types.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/../../node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _welcome_email_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./welcome-email-service */ \"(rsc)/./src/lib/welcome-email-service.ts\");\n\n\n\n\n\n\n\n\nconst ROLES = {\n    PROFESSIONAL: _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL,\n    EMPLOYER: _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.EMPLOYER,\n    AGENCY: _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.AGENCY,\n    ADMIN: _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.ADMIN\n};\nfunction toPrismaRole(role) {\n    const upperRole = role.toUpperCase();\n    switch(upperRole){\n        case _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL:\n            return _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL;\n        case _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.EMPLOYER:\n            return _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.EMPLOYER;\n        case _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.AGENCY:\n            return _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.AGENCY;\n        case _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.ADMIN:\n            return _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.ADMIN;\n        default:\n            return _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL;\n    }\n}\nfunction isProfessionalRole(role) {\n    return role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL;\n}\nfunction isEmployerOrAgencyRole(role) {\n    return role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.EMPLOYER || role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.AGENCY;\n}\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma),\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                // Handle 2FA-verified login\n                if (credentials.password === \"__2FA_VERIFIED__\") {\n                    const user = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user) {\n                        throw new Error(\"No account found with this email address\");\n                    }\n                    // Check if account is deleted\n                    if (user.isDeleted) {\n                        throw new Error(\"This account has been deleted\");\n                    }\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        role: (0,_prisma_types__WEBPACK_IMPORTED_MODULE_5__.fromPrismaUserRole)(user.role),\n                        name: `${user.firstName} ${user.lastName}`.trim(),\n                        image: user.image\n                    };\n                }\n                // Normal credential verification\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.password) {\n                    throw new Error(\"No account found with this email address\");\n                }\n                // Check if account is deleted\n                if (user.isDeleted) {\n                    throw new Error(\"This account has been deleted\");\n                }\n                const isCorrectPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default().compare(credentials.password, user.password);\n                if (!isCorrectPassword) {\n                    throw new Error(\"Incorrect password\");\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    role: (0,_prisma_types__WEBPACK_IMPORTED_MODULE_5__.fromPrismaUserRole)(user.role),\n                    name: `${user.firstName} ${user.lastName}`.trim(),\n                    image: user.image\n                };\n            }\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            allowDangerousEmailAccountLinking: true\n        })\n    ],\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            if (account?.provider === \"google\") {\n                const existingUser = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.findUnique({\n                    where: {\n                        email: user.email\n                    },\n                    include: {\n                        accounts: true\n                    }\n                });\n                // Check if existing user account is deleted\n                if (existingUser?.isDeleted) {\n                    throw new Error(\"This account has been deleted\");\n                }\n                if (existingUser && existingUser.accounts.length === 0) {\n                    await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.account.create({\n                        data: {\n                            userId: existingUser.id,\n                            type: account.type,\n                            provider: account.provider,\n                            providerAccountId: account.providerAccountId,\n                            access_token: account.access_token,\n                            token_type: account.token_type,\n                            scope: account.scope\n                        }\n                    });\n                    user.id = existingUser.id;\n                    user.role = (0,_prisma_types__WEBPACK_IMPORTED_MODULE_5__.fromPrismaUserRole)(existingUser.role);\n                    // Update last login time\n                    await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.update({\n                        where: {\n                            id: existingUser.id\n                        },\n                        data: {\n                            lastLoginAt: new Date()\n                        }\n                    });\n                    return true;\n                }\n                if (!existingUser) {\n                    const defaultRole = _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL;\n                    const role = account.role ? toPrismaRole(account.role.toString()) : defaultRole;\n                    const newUser = await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.create({\n                        data: {\n                            email: user.email,\n                            role: (0,_prisma_types__WEBPACK_IMPORTED_MODULE_5__.toPrismaUserRole)(role),\n                            firstName: user.name?.split(\" \")[0] || \"\",\n                            lastName: user.name?.split(\" \").slice(1).join(\" \") || \"\",\n                            image: user.image,\n                            lastLoginAt: new Date(),\n                            accounts: {\n                                create: {\n                                    type: account.type,\n                                    provider: account.provider,\n                                    providerAccountId: account.providerAccountId,\n                                    access_token: account.access_token,\n                                    token_type: account.token_type,\n                                    scope: account.scope\n                                }\n                            }\n                        }\n                    });\n                    if (role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.PROFESSIONAL) {\n                        await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.candidateProfile.create({\n                            data: {\n                                userId: newUser.id,\n                                skills: [],\n                                certifications: [],\n                                experience: []\n                            }\n                        });\n                    } else if (role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.EMPLOYER || role === _types__WEBPACK_IMPORTED_MODULE_4__.UserRole.AGENCY) {\n                        await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.employerProfile.create({\n                            data: {\n                                userId: newUser.id,\n                                companyName: \"\"\n                            }\n                        });\n                    }\n                    // Send welcome email to new Google OAuth user\n                    try {\n                        await (0,_welcome_email_service__WEBPACK_IMPORTED_MODULE_7__.sendWelcomeEmail)({\n                            email: newUser.email,\n                            firstName: newUser.firstName || user.name?.split(\" \")[0] || \"\",\n                            lastName: newUser.lastName || user.name?.split(\" \").slice(1).join(\" \") || \"\",\n                            role: role\n                        });\n                        console.log(`Welcome email sent to Google OAuth user: ${newUser.email}`);\n                    } catch (emailError) {\n                        // Log email error but don't fail the authentication\n                        console.error(`Failed to send welcome email to Google OAuth user ${newUser.email}:`, emailError);\n                    }\n                    user.id = newUser.id;\n                    user.role = role;\n                } else {\n                    user.id = existingUser.id;\n                    user.role = (0,_prisma_types__WEBPACK_IMPORTED_MODULE_5__.fromPrismaUserRole)(existingUser.role);\n                    // Update last login time for existing user\n                    await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.update({\n                        where: {\n                            id: existingUser.id\n                        },\n                        data: {\n                            lastLoginAt: new Date()\n                        }\n                    });\n                }\n            }\n            // Update last login time for any successful sign-in (including credentials)\n            if (user.id) {\n                try {\n                    await _prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.user.update({\n                        where: {\n                            id: user.id\n                        },\n                        data: {\n                            lastLoginAt: new Date()\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"Failed to update last login time:\", error);\n                // Don't fail the sign-in process for this\n                }\n            }\n            return true;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n                token.image = user.image;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                session.user.image = token.image;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60,\n        updateAge: 24 * 60 * 60\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdnQixLQUFLaEIsSUFBSTtnQkFDdEJzRSxNQUFNOUMsS0FBSyxHQUFHUixLQUFLUSxLQUFLO1lBQzFCO1lBQ0EsT0FBTzhDO1FBQ1Q7UUFDQSxNQUFNQyxTQUFRLEVBQUVBLE9BQU8sRUFBRUQsS0FBSyxFQUFFO1lBQzlCLElBQUlBLE9BQU87Z0JBQ1RDLFFBQVF2RCxJQUFJLENBQUNJLEVBQUUsR0FBR2tELE1BQU1sRCxFQUFFO2dCQUMxQm1ELFFBQVF2RCxJQUFJLENBQUNoQixJQUFJLEdBQUdzRSxNQUFNdEUsSUFBSTtnQkFDOUJ1RSxRQUFRdkQsSUFBSSxDQUFDUSxLQUFLLEdBQUc4QyxNQUFNOUMsS0FBSztZQUNsQztZQUNBLE9BQU8rQztRQUNUO0lBQ0Y7SUFDQUMsT0FBTztRQUNMckMsUUFBUTtJQUNWO0lBQ0FvQyxTQUFTO1FBQ1BFLFVBQVU7UUFDVkMsUUFBUSxLQUFLLEtBQUssS0FBSztRQUN2QkMsV0FBVyxLQUFLLEtBQUs7SUFDdkI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJlbGwtcmVnaXN0cnkvbWFpbi1hcHAvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tIFwiQGF1dGgvcHJpc21hLWFkYXB0ZXJcIjtcclxuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi9wcmlzbWFcIjtcclxuaW1wb3J0IHsgVXNlclJvbGUgfSBmcm9tIFwiQC90eXBlc1wiO1xyXG5pbXBvcnQgeyBmcm9tUHJpc21hVXNlclJvbGUsIHRvUHJpc21hVXNlclJvbGUgfSBmcm9tIFwiLi9wcmlzbWEtdHlwZXNcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IHsgc2VuZFdlbGNvbWVFbWFpbCB9IGZyb20gXCIuL3dlbGNvbWUtZW1haWwtc2VydmljZVwiO1xyXG5pbXBvcnQgeyB2ZXJpZnlUd29GYWN0b3JTZXNzaW9uIH0gZnJvbSBcIkAvbGliLzJmYS1zZXNzaW9uXCI7XHJcblxyXG5jb25zdCBST0xFUyA9IHtcclxuICBQUk9GRVNTSU9OQUw6IFVzZXJSb2xlLlBST0ZFU1NJT05BTCxcclxuICBFTVBMT1lFUjogVXNlclJvbGUuRU1QTE9ZRVIsXHJcbiAgQUdFTkNZOiBVc2VyUm9sZS5BR0VOQ1ksXHJcbiAgQURNSU46IFVzZXJSb2xlLkFETUlOLFxyXG59IGFzIGNvbnN0O1xyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJuZXh0LWF1dGhcIiB7XHJcbiAgaW50ZXJmYWNlIFVzZXIge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHJvbGU6IFVzZXJSb2xlO1xyXG4gICAgZW1haWw6IHN0cmluZztcclxuICAgIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xyXG4gICAgaW1hZ2U/OiBzdHJpbmcgfCBudWxsO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gICAgdXNlcjogVXNlciAmIHtcclxuICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgcm9sZTogVXNlclJvbGU7XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJuZXh0LWF1dGgvand0XCIge1xyXG4gIGludGVyZmFjZSBKV1Qge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHJvbGU6IFVzZXJSb2xlO1xyXG4gICAgaW1hZ2U/OiBzdHJpbmcgfCBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9QcmlzbWFSb2xlKHJvbGU6IHN0cmluZyk6IFVzZXJSb2xlIHtcclxuICBjb25zdCB1cHBlclJvbGUgPSByb2xlLnRvVXBwZXJDYXNlKCk7XHJcbiAgc3dpdGNoICh1cHBlclJvbGUpIHtcclxuICAgIGNhc2UgVXNlclJvbGUuUFJPRkVTU0lPTkFMOlxyXG4gICAgICByZXR1cm4gVXNlclJvbGUuUFJPRkVTU0lPTkFMO1xyXG4gICAgY2FzZSBVc2VyUm9sZS5FTVBMT1lFUjpcclxuICAgICAgcmV0dXJuIFVzZXJSb2xlLkVNUExPWUVSO1xyXG4gICAgY2FzZSBVc2VyUm9sZS5BR0VOQ1k6XHJcbiAgICAgIHJldHVybiBVc2VyUm9sZS5BR0VOQ1k7XHJcbiAgICBjYXNlIFVzZXJSb2xlLkFETUlOOlxyXG4gICAgICByZXR1cm4gVXNlclJvbGUuQURNSU47XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gVXNlclJvbGUuUFJPRkVTU0lPTkFMO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNQcm9mZXNzaW9uYWxSb2xlKHJvbGU6IFVzZXJSb2xlKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHJvbGUgPT09IFVzZXJSb2xlLlBST0ZFU1NJT05BTDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNFbXBsb3llck9yQWdlbmN5Um9sZShyb2xlOiBVc2VyUm9sZSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiByb2xlID09PSBVc2VyUm9sZS5FTVBMT1lFUiB8fCByb2xlID09PSBVc2VyUm9sZS5BR0VOQ1k7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSBhcyBhbnksXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcclxuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwiZW1haWxcIiB9LFxyXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY3JlZGVudGlhbHNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgMkZBLXZlcmlmaWVkIGxvZ2luXHJcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzLnBhc3N3b3JkID09PSBcIl9fMkZBX1ZFUklGSUVEX19cIikge1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWNjb3VudCBmb3VuZCB3aXRoIHRoaXMgZW1haWwgYWRkcmVzc1wiKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiBhY2NvdW50IGlzIGRlbGV0ZWRcclxuICAgICAgICAgIGlmICh1c2VyLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGFjY291bnQgaGFzIGJlZW4gZGVsZXRlZFwiKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIHJvbGU6IGZyb21QcmlzbWFVc2VyUm9sZSh1c2VyLnJvbGUpLFxyXG4gICAgICAgICAgICBuYW1lOiBgJHt1c2VyLmZpcnN0TmFtZX0gJHt1c2VyLmxhc3ROYW1lfWAudHJpbSgpLFxyXG4gICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcclxuICAgICAgICAgIH0gYXMgYW55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm9ybWFsIGNyZWRlbnRpYWwgdmVyaWZpY2F0aW9uXHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWNjb3VudCBmb3VuZCB3aXRoIHRoaXMgZW1haWwgYWRkcmVzc1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGFjY291bnQgaXMgZGVsZXRlZFxyXG4gICAgICAgIGlmICh1c2VyLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBhY2NvdW50IGhhcyBiZWVuIGRlbGV0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpc0NvcnJlY3RQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxyXG4gICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQsXHJcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0NvcnJlY3RQYXNzd29yZCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb3JyZWN0IHBhc3N3b3JkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICByb2xlOiBmcm9tUHJpc21hVXNlclJvbGUodXNlci5yb2xlKSxcclxuICAgICAgICAgIG5hbWU6IGAke3VzZXIuZmlyc3ROYW1lfSAke3VzZXIubGFzdE5hbWV9YC50cmltKCksXHJcbiAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcclxuICAgICAgICB9IGFzIGFueTtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBHb29nbGVQcm92aWRlcih7XHJcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEISxcclxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCEsXHJcbiAgICAgIGFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZzogdHJ1ZSxcclxuICAgIH0pLFxyXG4gIF0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBhc3luYyBzaWduSW4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlIH0pIHtcclxuICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSBcImdvb2dsZVwiKSB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgICB3aGVyZTogeyBlbWFpbDogdXNlci5lbWFpbCEgfSxcclxuICAgICAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICAgICAgYWNjb3VudHM6IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZXhpc3RpbmcgdXNlciBhY2NvdW50IGlzIGRlbGV0ZWRcclxuICAgICAgICBpZiAoZXhpc3RpbmdVc2VyPy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgYWNjb3VudCBoYXMgYmVlbiBkZWxldGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVXNlciAmJiBleGlzdGluZ1VzZXIuYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBhd2FpdCBwcmlzbWEuYWNjb3VudC5jcmVhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgdXNlcklkOiBleGlzdGluZ1VzZXIuaWQsXHJcbiAgICAgICAgICAgICAgdHlwZTogYWNjb3VudC50eXBlLFxyXG4gICAgICAgICAgICAgIHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc190b2tlbjogYWNjb3VudC5hY2Nlc3NfdG9rZW4sXHJcbiAgICAgICAgICAgICAgdG9rZW5fdHlwZTogYWNjb3VudC50b2tlbl90eXBlLFxyXG4gICAgICAgICAgICAgIHNjb3BlOiBhY2NvdW50LnNjb3BlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdXNlci5pZCA9IGV4aXN0aW5nVXNlci5pZDtcclxuICAgICAgICAgIHVzZXIucm9sZSA9IGZyb21QcmlzbWFVc2VyUm9sZShleGlzdGluZ1VzZXIucm9sZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IGxvZ2luIHRpbWVcclxuICAgICAgICAgIGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBleGlzdGluZ1VzZXIuaWQgfSxcclxuICAgICAgICAgICAgZGF0YTogeyBsYXN0TG9naW5BdDogbmV3IERhdGUoKSB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWV4aXN0aW5nVXNlcikge1xyXG4gICAgICAgICAgY29uc3QgZGVmYXVsdFJvbGUgPSBVc2VyUm9sZS5QUk9GRVNTSU9OQUw7XHJcbiAgICAgICAgICBjb25zdCByb2xlID0gYWNjb3VudC5yb2xlID8gdG9QcmlzbWFSb2xlKGFjY291bnQucm9sZS50b1N0cmluZygpKSA6IGRlZmF1bHRSb2xlO1xyXG5cclxuICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwhLFxyXG4gICAgICAgICAgICAgIHJvbGU6IHRvUHJpc21hVXNlclJvbGUocm9sZSksXHJcbiAgICAgICAgICAgICAgZmlyc3ROYW1lOiB1c2VyLm5hbWU/LnNwbGl0KFwiIFwiKVswXSB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLm5hbWU/LnNwbGl0KFwiIFwiKS5zbGljZSgxKS5qb2luKFwiIFwiKSB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxyXG4gICAgICAgICAgICAgIGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgIGFjY291bnRzOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgdHlwZTogYWNjb3VudC50eXBlLFxyXG4gICAgICAgICAgICAgICAgICBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlcixcclxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbjogYWNjb3VudC5hY2Nlc3NfdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgIHRva2VuX3R5cGU6IGFjY291bnQudG9rZW5fdHlwZSxcclxuICAgICAgICAgICAgICAgICAgc2NvcGU6IGFjY291bnQuc2NvcGUsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAocm9sZSA9PT0gVXNlclJvbGUuUFJPRkVTU0lPTkFMKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHByaXNtYS5jYW5kaWRhdGVQcm9maWxlLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdXNlcklkOiBuZXdVc2VyLmlkLFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzOiBbXSxcclxuICAgICAgICAgICAgICAgIGNlcnRpZmljYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIGV4cGVyaWVuY2U6IFtdLFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgPT09IFVzZXJSb2xlLkVNUExPWUVSIHx8IHJvbGUgPT09IFVzZXJSb2xlLkFHRU5DWSkge1xyXG4gICAgICAgICAgICBhd2FpdCBwcmlzbWEuZW1wbG95ZXJQcm9maWxlLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdXNlcklkOiBuZXdVc2VyLmlkLFxyXG4gICAgICAgICAgICAgICAgY29tcGFueU5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTZW5kIHdlbGNvbWUgZW1haWwgdG8gbmV3IEdvb2dsZSBPQXV0aCB1c2VyXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKHtcclxuICAgICAgICAgICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICBmaXJzdE5hbWU6IG5ld1VzZXIuZmlyc3ROYW1lIHx8IHVzZXIubmFtZT8uc3BsaXQoXCIgXCIpWzBdIHx8IFwiXCIsXHJcbiAgICAgICAgICAgICAgbGFzdE5hbWU6IG5ld1VzZXIubGFzdE5hbWUgfHwgdXNlci5uYW1lPy5zcGxpdChcIiBcIikuc2xpY2UoMSkuam9pbihcIiBcIikgfHwgXCJcIixcclxuICAgICAgICAgICAgICByb2xlOiByb2xlIGFzIGFueSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXZWxjb21lIGVtYWlsIHNlbnQgdG8gR29vZ2xlIE9BdXRoIHVzZXI6ICR7bmV3VXNlci5lbWFpbH1gKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVtYWlsRXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTG9nIGVtYWlsIGVycm9yIGJ1dCBkb24ndCBmYWlsIHRoZSBhdXRoZW50aWNhdGlvblxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2VuZCB3ZWxjb21lIGVtYWlsIHRvIEdvb2dsZSBPQXV0aCB1c2VyICR7bmV3VXNlci5lbWFpbH06YCwgZW1haWxFcnJvcik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdXNlci5pZCA9IG5ld1VzZXIuaWQ7XHJcbiAgICAgICAgICB1c2VyLnJvbGUgPSByb2xlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB1c2VyLmlkID0gZXhpc3RpbmdVc2VyLmlkO1xyXG4gICAgICAgICAgdXNlci5yb2xlID0gZnJvbVByaXNtYVVzZXJSb2xlKGV4aXN0aW5nVXNlci5yb2xlKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVXBkYXRlIGxhc3QgbG9naW4gdGltZSBmb3IgZXhpc3RpbmcgdXNlclxyXG4gICAgICAgICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGV4aXN0aW5nVXNlci5pZCB9LFxyXG4gICAgICAgICAgICBkYXRhOiB7IGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBkYXRlIGxhc3QgbG9naW4gdGltZSBmb3IgYW55IHN1Y2Nlc3NmdWwgc2lnbi1pbiAoaW5jbHVkaW5nIGNyZWRlbnRpYWxzKVxyXG4gICAgICBpZiAodXNlci5pZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBpZDogdXNlci5pZCB9LFxyXG4gICAgICAgICAgICBkYXRhOiB7IGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBsYXN0IGxvZ2luIHRpbWU6XCIsIGVycm9yKTtcclxuICAgICAgICAgIC8vIERvbid0IGZhaWwgdGhlIHNpZ24taW4gcHJvY2VzcyBmb3IgdGhpc1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcclxuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlO1xyXG4gICAgICAgIHRva2VuLmltYWdlID0gdXNlci5pbWFnZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcclxuICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQ7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xyXG4gICAgICAgIHNlc3Npb24udXNlci5pbWFnZSA9IHRva2VuLmltYWdlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIHBhZ2VzOiB7XHJcbiAgICBzaWduSW46IFwiL2xvZ2luXCIsXHJcbiAgfSxcclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIixcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcclxuICAgIHVwZGF0ZUFnZTogMjQgKiA2MCAqIDYwLCAvLyAyNCBob3Vyc1xyXG4gIH0sXHJcbn07ICJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwicHJpc21hIiwiVXNlclJvbGUiLCJmcm9tUHJpc21hVXNlclJvbGUiLCJ0b1ByaXNtYVVzZXJSb2xlIiwiYmNyeXB0Iiwic2VuZFdlbGNvbWVFbWFpbCIsIlJPTEVTIiwiUFJPRkVTU0lPTkFMIiwiRU1QTE9ZRVIiLCJBR0VOQ1kiLCJBRE1JTiIsInRvUHJpc21hUm9sZSIsInJvbGUiLCJ1cHBlclJvbGUiLCJ0b1VwcGVyQ2FzZSIsImlzUHJvZmVzc2lvbmFsUm9sZSIsImlzRW1wbG95ZXJPckFnZW5jeVJvbGUiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwiRXJyb3IiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNEZWxldGVkIiwiaWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInRyaW0iLCJpbWFnZSIsImlzQ29ycmVjdFBhc3N3b3JkIiwiY29tcGFyZSIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZyIsImNhbGxiYWNrcyIsInNpZ25JbiIsImFjY291bnQiLCJwcm9maWxlIiwicHJvdmlkZXIiLCJleGlzdGluZ1VzZXIiLCJpbmNsdWRlIiwiYWNjb3VudHMiLCJsZW5ndGgiLCJjcmVhdGUiLCJkYXRhIiwidXNlcklkIiwicHJvdmlkZXJBY2NvdW50SWQiLCJhY2Nlc3NfdG9rZW4iLCJ0b2tlbl90eXBlIiwic2NvcGUiLCJ1cGRhdGUiLCJsYXN0TG9naW5BdCIsIkRhdGUiLCJkZWZhdWx0Um9sZSIsInRvU3RyaW5nIiwibmV3VXNlciIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiY2FuZGlkYXRlUHJvZmlsZSIsInNraWxscyIsImNlcnRpZmljYXRpb25zIiwiZXhwZXJpZW5jZSIsImVtcGxveWVyUHJvZmlsZSIsImNvbXBhbnlOYW1lIiwiY29uc29sZSIsImxvZyIsImVtYWlsRXJyb3IiLCJlcnJvciIsImp3dCIsInRva2VuIiwic2Vzc2lvbiIsInBhZ2VzIiwic3RyYXRlZ3kiLCJtYXhBZ2UiLCJ1cGRhdGVBZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma-types.ts":
/*!*********************************!*\
  !*** ./src/lib/prisma-types.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromPrismaUserRole: () => (/* binding */ fromPrismaUserRole),\n/* harmony export */   toPrismaUserRole: () => (/* binding */ toPrismaUserRole)\n/* harmony export */ });\nfunction toPrismaUserRole(role) {\n    return role;\n}\nfunction fromPrismaUserRole(role) {\n    return role;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS10eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUdPLFNBQVNBLGlCQUFpQkMsSUFBYztJQUM3QyxPQUFPQTtBQUNUO0FBRU8sU0FBU0MsbUJBQW1CRCxJQUFvQjtJQUNyRCxPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJlbGwtcmVnaXN0cnkvbWFpbi1hcHAvLi9zcmMvbGliL3ByaXNtYS10eXBlcy50cz9hM2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVXNlclJvbGUgYXMgUHJpc21hVXNlclJvbGUgfSBmcm9tIFwiLnByaXNtYS9jbGllbnRcIjtcclxuaW1wb3J0IHsgVXNlclJvbGUgfSBmcm9tIFwiQC90eXBlc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUHJpc21hVXNlclJvbGUocm9sZTogVXNlclJvbGUpOiBQcmlzbWFVc2VyUm9sZSB7XHJcbiAgcmV0dXJuIHJvbGUgYXMgUHJpc21hVXNlclJvbGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUHJpc21hVXNlclJvbGUocm9sZTogUHJpc21hVXNlclJvbGUpOiBVc2VyUm9sZSB7XHJcbiAgcmV0dXJuIHJvbGUgYXMgVXNlclJvbGU7XHJcbn0gIl0sIm5hbWVzIjpbInRvUHJpc21hVXNlclJvbGUiLCJyb2xlIiwiZnJvbVByaXNtYVVzZXJSb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma-types.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n};\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? prismaClientSingleton();\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsd0JBQXdCO0lBQzVCLE9BQU8sSUFBSUQsd0RBQVlBO0FBQ3pCO0FBSUEsTUFBTUUsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSUgsd0JBQXdCO0FBRXhFLElBQUlJLElBQXFDLEVBQUU7SUFDekNILGdCQUFnQkUsTUFBTSxHQUFHQTtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL0BiZWxsLXJlZ2lzdHJ5L21haW4tYXBwLy4vc3JjL2xpYi9wcmlzbWEudHM/MDFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcclxuXHJcbmNvbnN0IHByaXNtYUNsaWVudFNpbmdsZXRvbiA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByaXNtYUNsaWVudCgpO1xyXG59O1xyXG5cclxudHlwZSBQcmlzbWFDbGllbnRTaW5nbGV0b24gPSBSZXR1cm5UeXBlPHR5cGVvZiBwcmlzbWFDbGllbnRTaW5nbGV0b24+O1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudFNpbmdsZXRvbiB8IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IHByaXNtYUNsaWVudFNpbmdsZXRvbigpO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7XHJcbn0gIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYUNsaWVudFNpbmdsZXRvbiIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   generateProfileSlug: () => (/* binding */ generateProfileSlug),\n/* harmony export */   generateProfileUrl: () => (/* binding */ generateProfileUrl),\n/* harmony export */   getTimeAgo: () => (/* binding */ getTimeAgo),\n/* harmony export */   splitTextIntoParagraphs: () => (/* binding */ splitTextIntoParagraphs),\n/* harmony export */   truncateWords: () => (/* binding */ truncateWords)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clsx */ \"(rsc)/../../node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/../../node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\n\nfunction generateRandomCode() {\n    const chars = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    return Array.from({\n        length: 6\n    }, ()=>chars[Math.floor(Math.random() * chars.length)]).join(\"\");\n}\nasync function generateProfileSlug(firstName, lastName, userId) {\n    if (!firstName || !lastName) return \"\";\n    // Replace spaces with dashes and convert to lowercase for both names\n    const cleanFirstName = firstName.trim().replace(/\\s+/g, \"-\").toLowerCase();\n    const cleanLastName = lastName.trim().replace(/\\s+/g, \"-\").toLowerCase();\n    const baseSlug = `${cleanFirstName}-${cleanLastName}`;\n    // If we're updating an existing profile, check if we already have a unique slug\n    if (userId) {\n        const existingProfile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                id: userId\n            },\n            select: {\n                profileSlug: true\n            }\n        });\n        if (existingProfile?.profileSlug) {\n            return existingProfile.profileSlug;\n        }\n    }\n    // Check if the base slug exists\n    const existingUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({\n        where: {\n            profileSlug: baseSlug\n        }\n    });\n    // If no duplicate exists, use the base slug\n    if (!existingUser) {\n        return baseSlug;\n    }\n    // If duplicate exists, generate a unique slug with random code\n    let uniqueSlug = `${baseSlug}-${generateRandomCode()}`;\n    let isUnique = false;\n    while(!isUnique){\n        uniqueSlug = `${baseSlug}-${generateRandomCode()}`;\n        const exists = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({\n            where: {\n                profileSlug: uniqueSlug\n            }\n        });\n        if (!exists) {\n            isUnique = true;\n        }\n    }\n    return uniqueSlug;\n}\nfunction generateProfileUrl(slug) {\n    if (!slug) return \"\";\n    return `/professionals/${slug}`;\n}\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.clsx)(inputs));\n}\nfunction getTimeAgo(dateString) {\n    const date = new Date(dateString);\n    const now = new Date();\n    const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n    let interval = seconds / 31536000; // years\n    if (interval > 1) return Math.floor(interval) + \" years ago\";\n    interval = seconds / 2592000; // months\n    if (interval > 1) return Math.floor(interval) + \" months ago\";\n    interval = seconds / 86400; // days\n    if (interval > 1) return Math.floor(interval) + \" days ago\";\n    interval = seconds / 3600; // hours\n    if (interval > 1) return Math.floor(interval) + \" hours ago\";\n    interval = seconds / 60; // minutes\n    if (interval > 1) return Math.floor(interval) + \" minutes ago\";\n    return \"just now\";\n}\nfunction truncateWords(text, wordLimit) {\n    if (!text) return \"\";\n    const words = text.trim().split(/\\s+/);\n    if (words.length <= wordLimit) return text;\n    return words.slice(0, wordLimit).join(\" \") + \"...\";\n}\nfunction splitTextIntoParagraphs(text) {\n    if (!text) return [];\n    // Split text by double line breaks (paragraph breaks)\n    const paragraphs = text.split(/\\n\\s*\\n/) // Split on double line breaks (paragraph separators)\n    .map((paragraph)=>paragraph.trim()).filter((paragraph)=>paragraph.length > 0);\n    return paragraphs;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVUsTUFBTSxRQUFRO0lBQ25DLElBQUlFLFdBQVcsR0FBRyxPQUFPckMsS0FBS0MsS0FBSyxDQUFDb0MsWUFBWTtJQUVoREEsV0FBV0YsVUFBVSxJQUFJLFVBQVU7SUFDbkMsSUFBSUUsV0FBVyxHQUFHLE9BQU9yQyxLQUFLQyxLQUFLLENBQUNvQyxZQUFZO0lBRWhELE9BQU87QUFDVDtBQUVPLFNBQVNDLGNBQWNDLElBQVksRUFBRUMsU0FBaUI7SUFDM0QsSUFBSSxDQUFDRCxNQUFNLE9BQU87SUFDbEIsTUFBTUUsUUFBUUYsS0FBSzlCLElBQUksR0FBR2lDLEtBQUssQ0FBQztJQUNoQyxJQUFJRCxNQUFNMUMsTUFBTSxJQUFJeUMsV0FBVyxPQUFPRDtJQUN0QyxPQUFPRSxNQUFNRSxLQUFLLENBQUMsR0FBR0gsV0FBV3JDLElBQUksQ0FBQyxPQUFPO0FBQy9DO0FBRU8sU0FBU3lDLHdCQUF3QkwsSUFBbUI7SUFDekQsSUFBSSxDQUFDQSxNQUFNLE9BQU8sRUFBRTtJQUVwQixzREFBc0Q7SUFDdEQsTUFBTU0sYUFBYU4sS0FDaEJHLEtBQUssQ0FBQyxXQUFXLHFEQUFxRDtLQUN0RUksR0FBRyxDQUFDQyxDQUFBQSxZQUFhQSxVQUFVdEMsSUFBSSxJQUMvQnVDLE1BQU0sQ0FBQ0QsQ0FBQUEsWUFBYUEsVUFBVWhELE1BQU0sR0FBRztJQUUxQyxPQUFPOEM7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL0BiZWxsLXJlZ2lzdHJ5L21haW4tYXBwLy4vc3JjL2xpYi91dGlscy50cz83YzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIjtcclxuaW1wb3J0IHsgdHlwZSBDbGFzc1ZhbHVlLCBjbHN4IH0gZnJvbSBcImNsc3hcIlxyXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tQ29kZSgpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGNoYXJzID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDYgfSwgKCkgPT4gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV0pLmpvaW4oJycpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQcm9maWxlU2x1ZyhmaXJzdE5hbWU6IHN0cmluZyB8IG51bGwsIGxhc3ROYW1lOiBzdHJpbmcgfCBudWxsLCB1c2VySWQ/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSkgcmV0dXJuICcnO1xyXG4gIFxyXG4gIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggZGFzaGVzIGFuZCBjb252ZXJ0IHRvIGxvd2VyY2FzZSBmb3IgYm90aCBuYW1lc1xyXG4gIGNvbnN0IGNsZWFuRmlyc3ROYW1lID0gZmlyc3ROYW1lLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCBjbGVhbkxhc3ROYW1lID0gbGFzdE5hbWUudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpO1xyXG4gIFxyXG4gIGNvbnN0IGJhc2VTbHVnID0gYCR7Y2xlYW5GaXJzdE5hbWV9LSR7Y2xlYW5MYXN0TmFtZX1gO1xyXG4gIFxyXG4gIC8vIElmIHdlJ3JlIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHByb2ZpbGUsIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHVuaXF1ZSBzbHVnXHJcbiAgaWYgKHVzZXJJZCkge1xyXG4gICAgY29uc3QgZXhpc3RpbmdQcm9maWxlID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfSxcclxuICAgICAgc2VsZWN0OiB7IHByb2ZpbGVTbHVnOiB0cnVlIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJvZmlsZT8ucHJvZmlsZVNsdWcpIHtcclxuICAgICAgcmV0dXJuIGV4aXN0aW5nUHJvZmlsZS5wcm9maWxlU2x1ZztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIHRoZSBiYXNlIHNsdWcgZXhpc3RzXHJcbiAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHByb2ZpbGVTbHVnOiBiYXNlU2x1Z1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBJZiBubyBkdXBsaWNhdGUgZXhpc3RzLCB1c2UgdGhlIGJhc2Ugc2x1Z1xyXG4gIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICByZXR1cm4gYmFzZVNsdWc7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBkdXBsaWNhdGUgZXhpc3RzLCBnZW5lcmF0ZSBhIHVuaXF1ZSBzbHVnIHdpdGggcmFuZG9tIGNvZGVcclxuICBsZXQgdW5pcXVlU2x1Zzogc3RyaW5nID0gYCR7YmFzZVNsdWd9LSR7Z2VuZXJhdGVSYW5kb21Db2RlKCl9YDtcclxuICBsZXQgaXNVbmlxdWUgPSBmYWxzZTtcclxuXHJcbiAgd2hpbGUgKCFpc1VuaXF1ZSkge1xyXG4gICAgdW5pcXVlU2x1ZyA9IGAke2Jhc2VTbHVnfS0ke2dlbmVyYXRlUmFuZG9tQ29kZSgpfWA7XHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kRmlyc3Qoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2ZpbGVTbHVnOiB1bmlxdWVTbHVnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgaXNVbmlxdWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHVuaXF1ZVNsdWc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVByb2ZpbGVVcmwoc2x1Zzogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XHJcbiAgaWYgKCFzbHVnKSByZXR1cm4gJyc7XHJcbiAgcmV0dXJuIGAvcHJvZmVzc2lvbmFscy8ke3NsdWd9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XHJcbiAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZUFnbyhkYXRlU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCk7XHJcbiAgXHJcbiAgbGV0IGludGVydmFsID0gc2Vjb25kcyAvIDMxNTM2MDAwOyAvLyB5ZWFyc1xyXG4gIGlmIChpbnRlcnZhbCA+IDEpIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArIFwiIHllYXJzIGFnb1wiO1xyXG4gIFxyXG4gIGludGVydmFsID0gc2Vjb25kcyAvIDI1OTIwMDA7IC8vIG1vbnRoc1xyXG4gIGlmIChpbnRlcnZhbCA+IDEpIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArIFwiIG1vbnRocyBhZ29cIjtcclxuICBcclxuICBpbnRlcnZhbCA9IHNlY29uZHMgLyA4NjQwMDsgLy8gZGF5c1xyXG4gIGlmIChpbnRlcnZhbCA+IDEpIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArIFwiIGRheXMgYWdvXCI7XHJcbiAgXHJcbiAgaW50ZXJ2YWwgPSBzZWNvbmRzIC8gMzYwMDsgLy8gaG91cnNcclxuICBpZiAoaW50ZXJ2YWwgPiAxKSByZXR1cm4gTWF0aC5mbG9vcihpbnRlcnZhbCkgKyBcIiBob3VycyBhZ29cIjtcclxuICBcclxuICBpbnRlcnZhbCA9IHNlY29uZHMgLyA2MDsgLy8gbWludXRlc1xyXG4gIGlmIChpbnRlcnZhbCA+IDEpIHJldHVybiBNYXRoLmZsb29yKGludGVydmFsKSArIFwiIG1pbnV0ZXMgYWdvXCI7XHJcbiAgXHJcbiAgcmV0dXJuIFwianVzdCBub3dcIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlV29yZHModGV4dDogc3RyaW5nLCB3b3JkTGltaXQ6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XHJcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xyXG4gIGlmICh3b3Jkcy5sZW5ndGggPD0gd29yZExpbWl0KSByZXR1cm4gdGV4dDtcclxuICByZXR1cm4gd29yZHMuc2xpY2UoMCwgd29yZExpbWl0KS5qb2luKCcgJykgKyAnLi4uJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0VGV4dEludG9QYXJhZ3JhcGhzKHRleHQ6IHN0cmluZyB8IG51bGwpOiBzdHJpbmdbXSB7XHJcbiAgaWYgKCF0ZXh0KSByZXR1cm4gW107XHJcbiAgXHJcbiAgLy8gU3BsaXQgdGV4dCBieSBkb3VibGUgbGluZSBicmVha3MgKHBhcmFncmFwaCBicmVha3MpXHJcbiAgY29uc3QgcGFyYWdyYXBocyA9IHRleHRcclxuICAgIC5zcGxpdCgvXFxuXFxzKlxcbi8pIC8vIFNwbGl0IG9uIGRvdWJsZSBsaW5lIGJyZWFrcyAocGFyYWdyYXBoIHNlcGFyYXRvcnMpXHJcbiAgICAubWFwKHBhcmFncmFwaCA9PiBwYXJhZ3JhcGgudHJpbSgpKVxyXG4gICAgLmZpbHRlcihwYXJhZ3JhcGggPT4gcGFyYWdyYXBoLmxlbmd0aCA+IDApO1xyXG4gIFxyXG4gIHJldHVybiBwYXJhZ3JhcGhzO1xyXG59Il0sIm5hbWVzIjpbInByaXNtYSIsImNsc3giLCJ0d01lcmdlIiwiZ2VuZXJhdGVSYW5kb21Db2RlIiwiY2hhcnMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqb2luIiwiZ2VuZXJhdGVQcm9maWxlU2x1ZyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidXNlcklkIiwiY2xlYW5GaXJzdE5hbWUiLCJ0cmltIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiY2xlYW5MYXN0TmFtZSIsImJhc2VTbHVnIiwiZXhpc3RpbmdQcm9maWxlIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwic2VsZWN0IiwicHJvZmlsZVNsdWciLCJleGlzdGluZ1VzZXIiLCJmaW5kRmlyc3QiLCJ1bmlxdWVTbHVnIiwiaXNVbmlxdWUiLCJleGlzdHMiLCJnZW5lcmF0ZVByb2ZpbGVVcmwiLCJzbHVnIiwiY24iLCJpbnB1dHMiLCJnZXRUaW1lQWdvIiwiZGF0ZVN0cmluZyIsImRhdGUiLCJEYXRlIiwibm93Iiwic2Vjb25kcyIsImdldFRpbWUiLCJpbnRlcnZhbCIsInRydW5jYXRlV29yZHMiLCJ0ZXh0Iiwid29yZExpbWl0Iiwid29yZHMiLCJzcGxpdCIsInNsaWNlIiwic3BsaXRUZXh0SW50b1BhcmFncmFwaHMiLCJwYXJhZ3JhcGhzIiwibWFwIiwicGFyYWdyYXBoIiwiZmlsdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/welcome-email-service.ts":
/*!******************************************!*\
  !*** ./src/lib/welcome-email-service.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendWelcomeEmail: () => (/* binding */ sendWelcomeEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/../../node_modules/resend/dist/index.mjs\");\n\nconst RESEND_API_KEY = process.env.RESEND_API_KEY;\nif (!RESEND_API_KEY) {\n    throw new Error(\"RESEND_API_KEY is not configured\");\n}\nconst resend = new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(RESEND_API_KEY);\nconst isDevelopment = \"development\" === \"development\";\nconst FROM_EMAIL = isDevelopment ? \"onboarding@resend.dev\" : \"The Bell Registry <welcome@thebellregistry.com>\";\nasync function sendWelcomeEmail(userData) {\n    // Use app URL for images and sign-in links\n    const appUrl = process.env.NEXT_PUBLIC_APP_URL || process.env.NEXTAUTH_URL || \"http://localhost:3000\";\n    const signInUrl = `${appUrl}/login`;\n    // Always use production URL for images in emails (localhost won't work in emails)\n    const imageBaseUrl = process.env.NEXT_PUBLIC_APP_URL || process.env.NEXTAUTH_URL || \"https://app.thebellregistry.com\";\n    const logoUrl = `${imageBaseUrl}/images/brand/logo-bell-registry-email.png`;\n    const fullName = `${userData.firstName} ${userData.lastName}`.trim();\n    const isEmployer = userData.role === \"EMPLOYER\" || userData.role === \"AGENCY\";\n    const roleText = userData.role === \"PROFESSIONAL\" ? \"professional\" : userData.role === \"EMPLOYER\" ? \"employer\" : \"agency\";\n    // Different messaging based on role\n    const welcomeMessage = isEmployer ? \"Thank you for joining The Bell Registry, the premier platform for connecting with top-tier domestic professionals.\" : \"Welcome to The Bell Registry, where exceptional opportunities in luxury private service await you.\";\n    const nextStepsContent = isEmployer ? `\r\n      <div style=\"background-color: #f8fafc; border-radius: 8px; padding: 20px; margin: 24px 0;\">\r\n        <h3 style=\"margin: 0 0 12px 0; color: #1e40af; font-size: 16px; font-weight: 600;\">What's next for you:</h3>\r\n        <ul style=\"margin: 0; padding-left: 16px; color: #374151; font-size: 14px; line-height: 1.6;\">\r\n          <li><strong>Complete your company profile</strong> - Add your company details, location, and what makes your household unique</li>\r\n          <li><strong>Post your first job</strong> - Create detailed job listings to attract qualified professionals</li>\r\n          <li><strong>Browse candidate profiles</strong> - Discover talented professionals who match your needs</li>\r\n          <li><strong>Use our messaging system</strong> - Connect directly with candidates you're interested in</li>\r\n          <li><strong>Access premium features</strong> - Upgrade for enhanced visibility and advanced search tools</li>\r\n        </ul>\r\n      </div>\r\n    ` : `\r\n      <div style=\"background-color: #f0f9ff; border-radius: 8px; padding: 20px; margin: 24px 0;\">\r\n        <h3 style=\"margin: 0 0 12px 0; color: #1e40af; font-size: 16px; font-weight: 600;\">What's next for you:</h3>\r\n        <ul style=\"margin: 0; padding-left: 16px; color: #374151; font-size: 14px; line-height: 1.6;\">\r\n          <li><strong>Complete your professional profile</strong> - Showcase your skills, experience, and certifications</li>\r\n          <li><strong>Browse job opportunities</strong> - Explore positions with discerning families and prestigious households</li>\r\n          <li><strong>Set up job alerts</strong> - Get notified when positions matching your preferences are posted</li>\r\n          <li><strong>Build your network</strong> - Connect with other professionals and industry contacts</li>\r\n          <li><strong>Stand out to employers</strong> - Upload a professional photo and detailed work history</li>\r\n        </ul>\r\n      </div>\r\n    `;\n    const platformBenefits = isEmployer ? `\r\n      <div style=\"background-color: #fffbeb; border-radius: 8px; padding: 20px; margin: 24px 0;\">\r\n        <h3 style=\"margin: 0 0 12px 0; color: #92400e; font-size: 16px; font-weight: 600;\">Why The Bell Registry?</h3>\r\n        <ul style=\"margin: 0; padding-left: 16px; color: #374151; font-size: 14px; line-height: 1.6;\">\r\n          <li><strong>Vetted professionals</strong> - All candidates undergo thorough screening and background checks</li>\r\n          <li><strong>Luxury market expertise</strong> - Specialized in high-net-worth household staffing</li>\r\n          <li><strong>Confidential process</strong> - Discreet hiring with privacy protection</li>\r\n          <li><strong>Expert support</strong> - Dedicated team to help you find the perfect match</li>\r\n        </ul>\r\n      </div>\r\n    ` : `\r\n      <div style=\"background-color: #f0fdf4; border-radius: 8px; padding: 20px; margin: 24px 0;\">\r\n        <h3 style=\"margin: 0 0 12px 0; color: #166534; font-size: 16px; font-weight: 600;\">Why The Bell Registry?</h3>\r\n        <ul style=\"margin: 0; padding-left: 16px; color: #374151; font-size: 14px; line-height: 1.6;\">\r\n          <li><strong>Exclusive opportunities</strong> - Access to prestigious positions not found elsewhere</li>\r\n          <li><strong>Quality employers</strong> - Work with respectful, professional families and households</li>\r\n          <li><strong>Competitive compensation</strong> - Find positions offering excellent pay and benefits</li>\r\n          <li><strong>Career advancement</strong> - Grow your career in the luxury private service sector</li>\r\n        </ul>\r\n      </div>\r\n    `;\n    const emailHtml = `\r\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; background-color: #f9fafb; padding: 20px;\">\r\n      <div style=\"background-color: white; border-radius: 12px; padding: 0; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); overflow: hidden;\">\r\n        \r\n        <!-- Header with Logo -->\r\n        <div style=\"background-color: #121155; padding: 32px; text-align: center;\">\r\n          <img src=\"${logoUrl}\" alt=\"The Bell Registry\" style=\"max-width: 200px; height: auto;\" />\r\n        </div>\r\n\r\n        <!-- Main Content -->\r\n        <div style=\"padding: 32px;\">\r\n          <div style=\"text-align: center; margin-bottom: 32px;\">\r\n            <h1 style=\"color: #1f2937; font-size: 28px; font-weight: 700; margin: 0 0 16px 0;\">\r\n              Welcome to The Bell Registry, ${userData.firstName}! 🎉\r\n            </h1>\r\n            <p style=\"color: #6b7280; font-size: 18px; margin: 0; line-height: 1.5;\">\r\n              ${welcomeMessage}\r\n            </p>\r\n          </div>\r\n\r\n          <div style=\"background-color: #121155; border-radius: 8px; padding: 24px; margin: 32px 0; text-align: center;\">\r\n            <h2 style=\"color: white; font-size: 20px; font-weight: 600; margin: 0 0 16px 0;\">\r\n              Your account is ready to go!\r\n            </h2>\r\n            <p style=\"color: #e2e8f0; font-size: 16px; margin: 0 0 24px 0;\">\r\n              Sign in to start ${isEmployer ? \"finding exceptional talent\" : \"exploring amazing opportunities\"}\r\n            </p>\r\n            <a href=\"${signInUrl}\" style=\"background-color: white; color: #121155; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 16px; display: inline-block; transition: all 0.2s;\">\r\n              Sign In to Your Account\r\n            </a>\r\n          </div>\r\n\r\n          ${nextStepsContent}\r\n\r\n          ${platformBenefits}\r\n\r\n          <div style=\"background-color: #f8fafc; border-radius: 8px; padding: 20px; margin: 24px 0; text-align: center;\">\r\n            <h3 style=\"margin: 0 0 12px 0; color: #374151; font-size: 16px; font-weight: 600;\">Need help getting started?</h3>\r\n            <p style=\"margin: 0 0 16px 0; color: #6b7280; font-size: 14px;\">\r\n              Our support team is here to help you make the most of The Bell Registry.\r\n            </p>\r\n            <a href=\"mailto:support@thebellregistry.com\" style=\"color: #121155; font-weight: 600; text-decoration: none;\">\r\n              Contact Support →\r\n            </a>\r\n          </div>\r\n\r\n          <div style=\"text-align: center; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e5e7eb;\">\r\n            <p style=\"color: #9ca3af; font-size: 12px; margin: 0 0 8px 0;\">\r\n              Welcome to The Bell Registry community of ${isEmployer ? \"distinguished employers\" : \"exceptional professionals\"}!\r\n            </p>\r\n            <p style=\"color: #9ca3af; font-size: 12px; margin: 0;\">\r\n              Follow us on social media for industry insights and updates.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\n    const toEmail = isDevelopment ? \"delivered@resend.dev\" : userData.email;\n    try {\n        const emailResponse = await resend.emails.send({\n            from: FROM_EMAIL,\n            to: toEmail,\n            subject: `Welcome to The Bell Registry, ${userData.firstName}! Your account is ready`,\n            html: emailHtml\n        });\n        console.log(`Welcome email sent to ${userData.email}:`, emailResponse);\n        return emailResponse;\n    } catch (error) {\n        console.error(`Failed to send welcome email to ${userData.email}:`, error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3dlbGNvbWUtZW1haWwtc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnQztBQUdoQyxNQUFNQyxpQkFBaUJDLFFBQVFDLEdBQUcsQ0FBQ0YsY0FBYztBQUNqRCxJQUFJLENBQUNBLGdCQUFnQjtJQUNuQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFDQSxNQUFNQyxTQUFTLElBQUlMLDBDQUFNQSxDQUFDQztBQUUxQixNQUFNSyxnQkFBZ0JKLGtCQUF5QjtBQUMvQyxNQUFNSyxhQUFhRCxnQkFDZiwwQkFDQTtBQVNHLGVBQWVFLGlCQUFpQkMsUUFBMEI7SUFDL0QsMkNBQTJDO0lBQzNDLE1BQU1DLFNBQVNSLFFBQVFDLEdBQUcsQ0FBQ1EsbUJBQW1CLElBQUlULFFBQVFDLEdBQUcsQ0FBQ1MsWUFBWSxJQUFJO0lBQzlFLE1BQU1DLFlBQVksQ0FBQyxFQUFFSCxPQUFPLE1BQU0sQ0FBQztJQUVuQyxrRkFBa0Y7SUFDbEYsTUFBTUksZUFBZVosUUFBUUMsR0FBRyxDQUFDUSxtQkFBbUIsSUFBSVQsUUFBUUMsR0FBRyxDQUFDUyxZQUFZLElBQUk7SUFDcEYsTUFBTUcsVUFBVSxDQUFDLEVBQUVELGFBQWEsMENBQTBDLENBQUM7SUFFM0UsTUFBTUUsV0FBVyxDQUFDLEVBQUVQLFNBQVNRLFNBQVMsQ0FBQyxDQUFDLEVBQUVSLFNBQVNTLFFBQVEsQ0FBQyxDQUFDLENBQUNDLElBQUk7SUFDbEUsTUFBTUMsYUFBYVgsU0FBU1ksSUFBSSxLQUFLLGNBQWNaLFNBQVNZLElBQUksS0FBSztJQUNyRSxNQUFNQyxXQUFXYixTQUFTWSxJQUFJLEtBQUssaUJBQWlCLGlCQUNuQ1osU0FBU1ksSUFBSSxLQUFLLGFBQWEsYUFBYTtJQUU3RCxvQ0FBb0M7SUFDcEMsTUFBTUUsaUJBQWlCSCxhQUNuQix1SEFDQTtJQUVKLE1BQU1JLG1CQUFtQkosYUFDckIsQ0FBQzs7Ozs7Ozs7Ozs7SUFXSCxDQUFDLEdBQ0MsQ0FBQzs7Ozs7Ozs7Ozs7SUFXSCxDQUFDO0lBRUgsTUFBTUssbUJBQW1CTCxhQUNyQixDQUFDOzs7Ozs7Ozs7O0lBVUgsQ0FBQyxHQUNDLENBQUM7Ozs7Ozs7Ozs7SUFVSCxDQUFDO0lBRUgsTUFBTU0sWUFBWSxDQUFDOzs7Ozs7b0JBTUQsRUFBRVgsUUFBUTs7Ozs7Ozs0Q0FPYyxFQUFFTixTQUFTUSxTQUFTLENBQUM7OztjQUduRCxFQUFFTSxlQUFlOzs7Ozs7Ozs7K0JBU0EsRUFBRUgsYUFBYSwrQkFBK0Isa0NBQWtDOztxQkFFMUYsRUFBRVAsVUFBVTs7Ozs7VUFLdkIsRUFBRVcsaUJBQWlCOztVQUVuQixFQUFFQyxpQkFBaUI7Ozs7Ozs7Ozs7Ozs7O3dEQWMyQixFQUFFTCxhQUFhLDRCQUE0Qiw0QkFBNEI7Ozs7Ozs7OztFQVM3SCxDQUFDO0lBRUQsTUFBTU8sVUFBVXJCLGdCQUFnQix5QkFBeUJHLFNBQVNtQixLQUFLO0lBRXZFLElBQUk7UUFDRixNQUFNQyxnQkFBZ0IsTUFBTXhCLE9BQU95QixNQUFNLENBQUNDLElBQUksQ0FBQztZQUM3Q0MsTUFBTXpCO1lBQ04wQixJQUFJTjtZQUNKTyxTQUFTLENBQUMsOEJBQThCLEVBQUV6QixTQUFTUSxTQUFTLENBQUMsdUJBQXVCLENBQUM7WUFDckZrQixNQUFNVDtRQUNSO1FBRUFVLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixFQUFFNUIsU0FBU21CLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRUM7UUFDeEQsT0FBT0E7SUFDVCxFQUFFLE9BQU9TLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLENBQUMsZ0NBQWdDLEVBQUU3QixTQUFTbUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFVTtRQUNwRSxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmVsbC1yZWdpc3RyeS9tYWluLWFwcC8uL3NyYy9saWIvd2VsY29tZS1lbWFpbC1zZXJ2aWNlLnRzPzNiMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcclxuaW1wb3J0IHsgVXNlclJvbGUgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcblxyXG5jb25zdCBSRVNFTkRfQVBJX0tFWSA9IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZO1xyXG5pZiAoIVJFU0VORF9BUElfS0VZKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdSRVNFTkRfQVBJX0tFWSBpcyBub3QgY29uZmlndXJlZCcpO1xyXG59XHJcbmNvbnN0IHJlc2VuZCA9IG5ldyBSZXNlbmQoUkVTRU5EX0FQSV9LRVkpO1xyXG5cclxuY29uc3QgaXNEZXZlbG9wbWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xyXG5jb25zdCBGUk9NX0VNQUlMID0gaXNEZXZlbG9wbWVudCBcclxuICA/ICdvbmJvYXJkaW5nQHJlc2VuZC5kZXYnXHJcbiAgOiAnVGhlIEJlbGwgUmVnaXN0cnkgPHdlbGNvbWVAdGhlYmVsbHJlZ2lzdHJ5LmNvbT4nO1xyXG5cclxuaW50ZXJmYWNlIFdlbGNvbWVFbWFpbERhdGEge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgZmlyc3ROYW1lOiBzdHJpbmc7XHJcbiAgbGFzdE5hbWU6IHN0cmluZztcclxuICByb2xlOiBVc2VyUm9sZTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRXZWxjb21lRW1haWwodXNlckRhdGE6IFdlbGNvbWVFbWFpbERhdGEpIHtcclxuICAvLyBVc2UgYXBwIFVSTCBmb3IgaW1hZ2VzIGFuZCBzaWduLWluIGxpbmtzXHJcbiAgY29uc3QgYXBwVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XHJcbiAgY29uc3Qgc2lnbkluVXJsID0gYCR7YXBwVXJsfS9sb2dpbmA7XHJcbiAgXHJcbiAgLy8gQWx3YXlzIHVzZSBwcm9kdWN0aW9uIFVSTCBmb3IgaW1hZ2VzIGluIGVtYWlscyAobG9jYWxob3N0IHdvbid0IHdvcmsgaW4gZW1haWxzKVxyXG4gIGNvbnN0IGltYWdlQmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8ICdodHRwczovL2FwcC50aGViZWxscmVnaXN0cnkuY29tJztcclxuICBjb25zdCBsb2dvVXJsID0gYCR7aW1hZ2VCYXNlVXJsfS9pbWFnZXMvYnJhbmQvbG9nby1iZWxsLXJlZ2lzdHJ5LWVtYWlsLnBuZ2A7XHJcbiAgXHJcbiAgY29uc3QgZnVsbE5hbWUgPSBgJHt1c2VyRGF0YS5maXJzdE5hbWV9ICR7dXNlckRhdGEubGFzdE5hbWV9YC50cmltKCk7XHJcbiAgY29uc3QgaXNFbXBsb3llciA9IHVzZXJEYXRhLnJvbGUgPT09ICdFTVBMT1lFUicgfHwgdXNlckRhdGEucm9sZSA9PT0gJ0FHRU5DWSc7XHJcbiAgY29uc3Qgcm9sZVRleHQgPSB1c2VyRGF0YS5yb2xlID09PSAnUFJPRkVTU0lPTkFMJyA/ICdwcm9mZXNzaW9uYWwnIDogXHJcbiAgICAgICAgICAgICAgICAgICB1c2VyRGF0YS5yb2xlID09PSAnRU1QTE9ZRVInID8gJ2VtcGxveWVyJyA6ICdhZ2VuY3knO1xyXG5cclxuICAvLyBEaWZmZXJlbnQgbWVzc2FnaW5nIGJhc2VkIG9uIHJvbGVcclxuICBjb25zdCB3ZWxjb21lTWVzc2FnZSA9IGlzRW1wbG95ZXJcclxuICAgID8gXCJUaGFuayB5b3UgZm9yIGpvaW5pbmcgVGhlIEJlbGwgUmVnaXN0cnksIHRoZSBwcmVtaWVyIHBsYXRmb3JtIGZvciBjb25uZWN0aW5nIHdpdGggdG9wLXRpZXIgZG9tZXN0aWMgcHJvZmVzc2lvbmFscy5cIlxyXG4gICAgOiBcIldlbGNvbWUgdG8gVGhlIEJlbGwgUmVnaXN0cnksIHdoZXJlIGV4Y2VwdGlvbmFsIG9wcG9ydHVuaXRpZXMgaW4gbHV4dXJ5IHByaXZhdGUgc2VydmljZSBhd2FpdCB5b3UuXCI7XHJcblxyXG4gIGNvbnN0IG5leHRTdGVwc0NvbnRlbnQgPSBpc0VtcGxveWVyXHJcbiAgICA/IGBcclxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmOGZhZmM7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMjBweDsgbWFyZ2luOiAyNHB4IDA7XCI+XHJcbiAgICAgICAgPGgzIHN0eWxlPVwibWFyZ2luOiAwIDAgMTJweCAwOyBjb2xvcjogIzFlNDBhZjsgZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogNjAwO1wiPldoYXQncyBuZXh0IGZvciB5b3U6PC9oMz5cclxuICAgICAgICA8dWwgc3R5bGU9XCJtYXJnaW46IDA7IHBhZGRpbmctbGVmdDogMTZweDsgY29sb3I6ICMzNzQxNTE7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDEuNjtcIj5cclxuICAgICAgICAgIDxsaT48c3Ryb25nPkNvbXBsZXRlIHlvdXIgY29tcGFueSBwcm9maWxlPC9zdHJvbmc+IC0gQWRkIHlvdXIgY29tcGFueSBkZXRhaWxzLCBsb2NhdGlvbiwgYW5kIHdoYXQgbWFrZXMgeW91ciBob3VzZWhvbGQgdW5pcXVlPC9saT5cclxuICAgICAgICAgIDxsaT48c3Ryb25nPlBvc3QgeW91ciBmaXJzdCBqb2I8L3N0cm9uZz4gLSBDcmVhdGUgZGV0YWlsZWQgam9iIGxpc3RpbmdzIHRvIGF0dHJhY3QgcXVhbGlmaWVkIHByb2Zlc3Npb25hbHM8L2xpPlxyXG4gICAgICAgICAgPGxpPjxzdHJvbmc+QnJvd3NlIGNhbmRpZGF0ZSBwcm9maWxlczwvc3Ryb25nPiAtIERpc2NvdmVyIHRhbGVudGVkIHByb2Zlc3Npb25hbHMgd2hvIG1hdGNoIHlvdXIgbmVlZHM8L2xpPlxyXG4gICAgICAgICAgPGxpPjxzdHJvbmc+VXNlIG91ciBtZXNzYWdpbmcgc3lzdGVtPC9zdHJvbmc+IC0gQ29ubmVjdCBkaXJlY3RseSB3aXRoIGNhbmRpZGF0ZXMgeW91J3JlIGludGVyZXN0ZWQgaW48L2xpPlxyXG4gICAgICAgICAgPGxpPjxzdHJvbmc+QWNjZXNzIHByZW1pdW0gZmVhdHVyZXM8L3N0cm9uZz4gLSBVcGdyYWRlIGZvciBlbmhhbmNlZCB2aXNpYmlsaXR5IGFuZCBhZHZhbmNlZCBzZWFyY2ggdG9vbHM8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYFxyXG4gICAgOiBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmOWZmOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDIwcHg7IG1hcmdpbjogMjRweCAwO1wiPlxyXG4gICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDEycHggMDsgY29sb3I6ICMxZTQwYWY7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDtcIj5XaGF0J3MgbmV4dCBmb3IgeW91OjwvaDM+XHJcbiAgICAgICAgPHVsIHN0eWxlPVwibWFyZ2luOiAwOyBwYWRkaW5nLWxlZnQ6IDE2cHg7IGNvbG9yOiAjMzc0MTUxOyBmb250LXNpemU6IDE0cHg7IGxpbmUtaGVpZ2h0OiAxLjY7XCI+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5Db21wbGV0ZSB5b3VyIHByb2Zlc3Npb25hbCBwcm9maWxlPC9zdHJvbmc+IC0gU2hvd2Nhc2UgeW91ciBza2lsbHMsIGV4cGVyaWVuY2UsIGFuZCBjZXJ0aWZpY2F0aW9uczwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5Ccm93c2Ugam9iIG9wcG9ydHVuaXRpZXM8L3N0cm9uZz4gLSBFeHBsb3JlIHBvc2l0aW9ucyB3aXRoIGRpc2Nlcm5pbmcgZmFtaWxpZXMgYW5kIHByZXN0aWdpb3VzIGhvdXNlaG9sZHM8L2xpPlxyXG4gICAgICAgICAgPGxpPjxzdHJvbmc+U2V0IHVwIGpvYiBhbGVydHM8L3N0cm9uZz4gLSBHZXQgbm90aWZpZWQgd2hlbiBwb3NpdGlvbnMgbWF0Y2hpbmcgeW91ciBwcmVmZXJlbmNlcyBhcmUgcG9zdGVkPC9saT5cclxuICAgICAgICAgIDxsaT48c3Ryb25nPkJ1aWxkIHlvdXIgbmV0d29yazwvc3Ryb25nPiAtIENvbm5lY3Qgd2l0aCBvdGhlciBwcm9mZXNzaW9uYWxzIGFuZCBpbmR1c3RyeSBjb250YWN0czwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5TdGFuZCBvdXQgdG8gZW1wbG95ZXJzPC9zdHJvbmc+IC0gVXBsb2FkIGEgcHJvZmVzc2lvbmFsIHBob3RvIGFuZCBkZXRhaWxlZCB3b3JrIGhpc3Rvcnk8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgY29uc3QgcGxhdGZvcm1CZW5lZml0cyA9IGlzRW1wbG95ZXJcclxuICAgID8gYFxyXG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZmJlYjsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAyMHB4OyBtYXJnaW46IDI0cHggMDtcIj5cclxuICAgICAgICA8aDMgc3R5bGU9XCJtYXJnaW46IDAgMCAxMnB4IDA7IGNvbG9yOiAjOTI0MDBlOyBmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiA2MDA7XCI+V2h5IFRoZSBCZWxsIFJlZ2lzdHJ5PzwvaDM+XHJcbiAgICAgICAgPHVsIHN0eWxlPVwibWFyZ2luOiAwOyBwYWRkaW5nLWxlZnQ6IDE2cHg7IGNvbG9yOiAjMzc0MTUxOyBmb250LXNpemU6IDE0cHg7IGxpbmUtaGVpZ2h0OiAxLjY7XCI+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5WZXR0ZWQgcHJvZmVzc2lvbmFsczwvc3Ryb25nPiAtIEFsbCBjYW5kaWRhdGVzIHVuZGVyZ28gdGhvcm91Z2ggc2NyZWVuaW5nIGFuZCBiYWNrZ3JvdW5kIGNoZWNrczwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5MdXh1cnkgbWFya2V0IGV4cGVydGlzZTwvc3Ryb25nPiAtIFNwZWNpYWxpemVkIGluIGhpZ2gtbmV0LXdvcnRoIGhvdXNlaG9sZCBzdGFmZmluZzwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5Db25maWRlbnRpYWwgcHJvY2Vzczwvc3Ryb25nPiAtIERpc2NyZWV0IGhpcmluZyB3aXRoIHByaXZhY3kgcHJvdGVjdGlvbjwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5FeHBlcnQgc3VwcG9ydDwvc3Ryb25nPiAtIERlZGljYXRlZCB0ZWFtIHRvIGhlbHAgeW91IGZpbmQgdGhlIHBlcmZlY3QgbWF0Y2g8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYFxyXG4gICAgOiBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmZGY0OyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDIwcHg7IG1hcmdpbjogMjRweCAwO1wiPlxyXG4gICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDEycHggMDsgY29sb3I6ICMxNjY1MzQ7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDtcIj5XaHkgVGhlIEJlbGwgUmVnaXN0cnk/PC9oMz5cclxuICAgICAgICA8dWwgc3R5bGU9XCJtYXJnaW46IDA7IHBhZGRpbmctbGVmdDogMTZweDsgY29sb3I6ICMzNzQxNTE7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDEuNjtcIj5cclxuICAgICAgICAgIDxsaT48c3Ryb25nPkV4Y2x1c2l2ZSBvcHBvcnR1bml0aWVzPC9zdHJvbmc+IC0gQWNjZXNzIHRvIHByZXN0aWdpb3VzIHBvc2l0aW9ucyBub3QgZm91bmQgZWxzZXdoZXJlPC9saT5cclxuICAgICAgICAgIDxsaT48c3Ryb25nPlF1YWxpdHkgZW1wbG95ZXJzPC9zdHJvbmc+IC0gV29yayB3aXRoIHJlc3BlY3RmdWwsIHByb2Zlc3Npb25hbCBmYW1pbGllcyBhbmQgaG91c2Vob2xkczwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5Db21wZXRpdGl2ZSBjb21wZW5zYXRpb248L3N0cm9uZz4gLSBGaW5kIHBvc2l0aW9ucyBvZmZlcmluZyBleGNlbGxlbnQgcGF5IGFuZCBiZW5lZml0czwvbGk+XHJcbiAgICAgICAgICA8bGk+PHN0cm9uZz5DYXJlZXIgYWR2YW5jZW1lbnQ8L3N0cm9uZz4gLSBHcm93IHlvdXIgY2FyZWVyIGluIHRoZSBsdXh1cnkgcHJpdmF0ZSBzZXJ2aWNlIHNlY3RvcjwvbGk+XHJcbiAgICAgICAgPC91bD5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG5cclxuICBjb25zdCBlbWFpbEh0bWwgPSBgXHJcbiAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYjsgcGFkZGluZzogMjBweDtcIj5cclxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHdoaXRlOyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAwOyBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpOyBvdmVyZmxvdzogaGlkZGVuO1wiPlxyXG4gICAgICAgIFxyXG4gICAgICAgIDwhLS0gSGVhZGVyIHdpdGggTG9nbyAtLT5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzEyMTE1NTsgcGFkZGluZzogMzJweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCIke2xvZ29Vcmx9XCIgYWx0PVwiVGhlIEJlbGwgUmVnaXN0cnlcIiBzdHlsZT1cIm1heC13aWR0aDogMjAwcHg7IGhlaWdodDogYXV0bztcIiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8IS0tIE1haW4gQ29udGVudCAtLT5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMzJweDtcIj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDMycHg7XCI+XHJcbiAgICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMWYyOTM3OyBmb250LXNpemU6IDI4cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IG1hcmdpbjogMCAwIDE2cHggMDtcIj5cclxuICAgICAgICAgICAgICBXZWxjb21lIHRvIFRoZSBCZWxsIFJlZ2lzdHJ5LCAke3VzZXJEYXRhLmZpcnN0TmFtZX0hIPCfjolcclxuICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxOHB4OyBtYXJnaW46IDA7IGxpbmUtaGVpZ2h0OiAxLjU7XCI+XHJcbiAgICAgICAgICAgICAgJHt3ZWxjb21lTWVzc2FnZX1cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICMxMjExNTU7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMjRweDsgbWFyZ2luOiAzMnB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cclxuICAgICAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDIwcHg7IGZvbnQtd2VpZ2h0OiA2MDA7IG1hcmdpbjogMCAwIDE2cHggMDtcIj5cclxuICAgICAgICAgICAgICBZb3VyIGFjY291bnQgaXMgcmVhZHkgdG8gZ28hXHJcbiAgICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICNlMmU4ZjA7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luOiAwIDAgMjRweCAwO1wiPlxyXG4gICAgICAgICAgICAgIFNpZ24gaW4gdG8gc3RhcnQgJHtpc0VtcGxveWVyID8gJ2ZpbmRpbmcgZXhjZXB0aW9uYWwgdGFsZW50JyA6ICdleHBsb3JpbmcgYW1hemluZyBvcHBvcnR1bml0aWVzJ31cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8YSBocmVmPVwiJHtzaWduSW5Vcmx9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgY29sb3I6ICMxMjExNTU7IHBhZGRpbmc6IDE0cHggMzJweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGZvbnQtd2VpZ2h0OiA2MDA7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB0cmFuc2l0aW9uOiBhbGwgMC4ycztcIj5cclxuICAgICAgICAgICAgICBTaWduIEluIHRvIFlvdXIgQWNjb3VudFxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAke25leHRTdGVwc0NvbnRlbnR9XHJcblxyXG4gICAgICAgICAgJHtwbGF0Zm9ybUJlbmVmaXRzfVxyXG5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmYWZjOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDIwcHg7IG1hcmdpbjogMjRweCAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbjogMCAwIDEycHggMDsgY29sb3I6ICMzNzQxNTE7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IDYwMDtcIj5OZWVkIGhlbHAgZ2V0dGluZyBzdGFydGVkPzwvaDM+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgMTZweCAwOyBjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxNHB4O1wiPlxyXG4gICAgICAgICAgICAgIE91ciBzdXBwb3J0IHRlYW0gaXMgaGVyZSB0byBoZWxwIHlvdSBtYWtlIHRoZSBtb3N0IG9mIFRoZSBCZWxsIFJlZ2lzdHJ5LlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCJtYWlsdG86c3VwcG9ydEB0aGViZWxscmVnaXN0cnkuY29tXCIgc3R5bGU9XCJjb2xvcjogIzEyMTE1NTsgZm9udC13ZWlnaHQ6IDYwMDsgdGV4dC1kZWNvcmF0aW9uOiBub25lO1wiPlxyXG4gICAgICAgICAgICAgIENvbnRhY3QgU3VwcG9ydCDihpJcclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMzJweDsgcGFkZGluZy10b3A6IDI0cHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTVlN2ViO1wiPlxyXG4gICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjOWNhM2FmOyBmb250LXNpemU6IDEycHg7IG1hcmdpbjogMCAwIDhweCAwO1wiPlxyXG4gICAgICAgICAgICAgIFdlbGNvbWUgdG8gVGhlIEJlbGwgUmVnaXN0cnkgY29tbXVuaXR5IG9mICR7aXNFbXBsb3llciA/ICdkaXN0aW5ndWlzaGVkIGVtcGxveWVycycgOiAnZXhjZXB0aW9uYWwgcHJvZmVzc2lvbmFscyd9IVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM5Y2EzYWY7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luOiAwO1wiPlxyXG4gICAgICAgICAgICAgIEZvbGxvdyB1cyBvbiBzb2NpYWwgbWVkaWEgZm9yIGluZHVzdHJ5IGluc2lnaHRzIGFuZCB1cGRhdGVzLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG5cclxuICBjb25zdCB0b0VtYWlsID0gaXNEZXZlbG9wbWVudCA/ICdkZWxpdmVyZWRAcmVzZW5kLmRldicgOiB1c2VyRGF0YS5lbWFpbDtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtYWlsUmVzcG9uc2UgPSBhd2FpdCByZXNlbmQuZW1haWxzLnNlbmQoe1xyXG4gICAgICBmcm9tOiBGUk9NX0VNQUlMLFxyXG4gICAgICB0bzogdG9FbWFpbCxcclxuICAgICAgc3ViamVjdDogYFdlbGNvbWUgdG8gVGhlIEJlbGwgUmVnaXN0cnksICR7dXNlckRhdGEuZmlyc3ROYW1lfSEgWW91ciBhY2NvdW50IGlzIHJlYWR5YCxcclxuICAgICAgaHRtbDogZW1haWxIdG1sLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYFdlbGNvbWUgZW1haWwgc2VudCB0byAke3VzZXJEYXRhLmVtYWlsfTpgLCBlbWFpbFJlc3BvbnNlKTtcclxuICAgIHJldHVybiBlbWFpbFJlc3BvbnNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2VuZCB3ZWxjb21lIGVtYWlsIHRvICR7dXNlckRhdGEuZW1haWx9OmAsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiUmVzZW5kIiwiUkVTRU5EX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJyZXNlbmQiLCJpc0RldmVsb3BtZW50IiwiRlJPTV9FTUFJTCIsInNlbmRXZWxjb21lRW1haWwiLCJ1c2VyRGF0YSIsImFwcFVybCIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJORVhUQVVUSF9VUkwiLCJzaWduSW5VcmwiLCJpbWFnZUJhc2VVcmwiLCJsb2dvVXJsIiwiZnVsbE5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInRyaW0iLCJpc0VtcGxveWVyIiwicm9sZSIsInJvbGVUZXh0Iiwid2VsY29tZU1lc3NhZ2UiLCJuZXh0U3RlcHNDb250ZW50IiwicGxhdGZvcm1CZW5lZml0cyIsImVtYWlsSHRtbCIsInRvRW1haWwiLCJlbWFpbCIsImVtYWlsUmVzcG9uc2UiLCJlbWFpbHMiLCJzZW5kIiwiZnJvbSIsInRvIiwic3ViamVjdCIsImh0bWwiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/welcome-email-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserRole: () => (/* binding */ UserRole),\n/* harmony export */   UserRoleValues: () => (/* binding */ UserRoleValues)\n/* harmony export */ });\nvar UserRole;\n(function(UserRole) {\n    UserRole[\"PROFESSIONAL\"] = \"PROFESSIONAL\";\n    UserRole[\"EMPLOYER\"] = \"EMPLOYER\";\n    UserRole[\"AGENCY\"] = \"AGENCY\";\n    UserRole[\"ADMIN\"] = \"ADMIN\";\n})(UserRole || (UserRole = {}));\nconst UserRoleValues = {\n    PROFESSIONAL: \"PROFESSIONAL\",\n    EMPLOYER: \"EMPLOYER\",\n    AGENCY: \"AGENCY\",\n    ADMIN: \"ADMIN\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O1VBQVlBOzs7OztHQUFBQSxhQUFBQTtBQU9MLE1BQU1DLGlCQUFpQjtJQUM1QkMsWUFBWTtJQUNaQyxRQUFRO0lBQ1JDLE1BQU07SUFDTkMsS0FBSztBQUNQLEVBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmVsbC1yZWdpc3RyeS9tYWluLWFwcC8uL3NyYy90eXBlcy9pbmRleC50cz80NDE3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIFVzZXJSb2xlIHtcclxuICBQUk9GRVNTSU9OQUwgPSBcIlBST0ZFU1NJT05BTFwiLFxyXG4gIEVNUExPWUVSID0gXCJFTVBMT1lFUlwiLFxyXG4gIEFHRU5DWSA9IFwiQUdFTkNZXCIsXHJcbiAgQURNSU4gPSBcIkFETUlOXCIsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBVc2VyUm9sZVZhbHVlcyA9IHtcclxuICBQUk9GRVNTSU9OQUw6IFVzZXJSb2xlLlBST0ZFU1NJT05BTCxcclxuICBFTVBMT1lFUjogVXNlclJvbGUuRU1QTE9ZRVIsXHJcbiAgQUdFTkNZOiBVc2VyUm9sZS5BR0VOQ1ksXHJcbiAgQURNSU46IFVzZXJSb2xlLkFETUlOLFxyXG59IGFzIGNvbnN0O1xyXG5cclxuZXhwb3J0IHR5cGUgVXNlciA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcm9sZTogVXNlclJvbGU7XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBpbWFnZT86IHN0cmluZztcclxufTsgIl0sIm5hbWVzIjpbIlVzZXJSb2xlIiwiVXNlclJvbGVWYWx1ZXMiLCJQUk9GRVNTSU9OQUwiLCJFTVBMT1lFUiIsIkFHRU5DWSIsIkFETUlOIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/types/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/bcryptjs","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/resend","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/@auth","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/tailwind-merge","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprofile%2Froute&page=%2Fapi%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprofile%2Froute.ts&appDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copeni%5COneDrive%5CBellRegistry%5Cpackages%5Cmain-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();